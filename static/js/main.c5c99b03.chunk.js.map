{"version":3,"sources":["components/Card/Card.module.scss","components/Drawer/Drawer.module.scss","components/hooks/useCart.js","components/Header.js","components/LoadingBlock.jsx","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","components/info.jsx","components/Drawer/index.js","App.js","index.js"],"names":["module","exports","useCart","React","useContext","AppContext","setCartItems","cartItems","getTotalPrice","reduce","sum","obj","price","getTotalTax","Math","floor","Header","onClickCart","className","to","width","height","src","alt","onClick","LoadingBlock","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","Card","id","name","img","onPlus","onFavorite","favorited","loading","addedItems","useState","isFavorite","setIsFavorite","parentId","console","log","styles","card","favorite","plus","Home","items","inputValue","clearInputValue","getInputValue","onAddToCart","onAddToFavorite","placeholder","value","onChange","filterItems","filter","item","toLowerCase","includes","toLocaleString","Array","map","key","renderBlock","Favorites","favorites","Orders","orders","setOrders","setLoading","useEffect","a","axios","get","data","prev","alert","Info","title","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemoveItem","opened","isCompleted","setIsCompleted","orderId","setOrderId","isLoading","setIsLoading","onIsCompleted","post","i","length","delete","overlay","overlayVisible","drawer","style","backgroundImage","disabled","createContext","App","setItems","cartOpened","setInputValue","setFavorites","all","favoriteResponse","cartResponse","itemResponse","fetchData","findItem","find","cartObj","Number","favObj","Provider","some","error","path","exact","e","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5c99b03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__nFDG9\",\"plus\":\"Card_plus__1y3Dn\",\"favorite\":\"Card_favorite__ayva8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__17GCi\",\"overlayVisible\":\"Drawer_overlayVisible__3GGWH\",\"drawer\":\"Drawer_drawer__3hW6P\",\"items\":\"Drawer_items__ZXkYV\"};","import React from 'react'\r\nimport {AppContext} from \"../../App\";\r\n\r\nexport const useCart = () => {\r\n    const {setCartItems, cartItems} = React.useContext(AppContext)\r\n    const getTotalPrice = () => cartItems.reduce((sum, obj) => obj.price + sum, 0)\r\n    const getTotalTax = () => Math.floor(getTotalPrice(cartItems) * 0.05)\r\n\r\n    return {getTotalPrice, setCartItems, cartItems, getTotalTax}\r\n}","import {Link} from \"react-router-dom\";\nimport {useCart} from \"./hooks/useCart\";\n\n\nfunction Header({onClickCart}) {\n    const {getTotalPrice} = useCart()\n    return (\n        <header className=\"d-flex justify-between align-center p-40\">\n            <Link to={'/'}>\n                <div className=\"d-flex align-center\">\n                    <img width={40} height={40} src=\"img/logo.png\" alt={'Логотип'}/>\n                    <div>\n\n                        <h3 className=\"text-uppercase\">React Sneakers</h3>\n                        <p className=\"opacity-5\">Магазин лучших кроссовок</p>\n\n                    </div>\n                </div>\n            </Link>\n            <ul className=\"d-flex\">\n                <li onClick={onClickCart} className=\"mr-30 cu-p\">\n                    <img width={18} height={18} src=\"img/cart.svg\" alt={'Cart'}/>\n                    <span>{getTotalPrice()} руб.</span>\n                </li>\n                <Link to={'/favorites'}>\n                    <li className=\"mr-20 cu-p\">\n                        <img width={18} height={18} src={\"img/heart.svg\"} alt={'Favorites'}/>\n                    </li>\n                </Link>\n                <Link to={'/orders'}>\n                    <li>\n                        <img width={18} height={18} src={\"img/user.svg\"} alt={'User'}/>\n                    </li>\n                </Link>\n            </ul>\n        </header>\n    );\n}\n\nexport default Header;\n","import ContentLoader from \"react-content-loader\";\r\nimport React from \"react\";\r\n\r\n\r\nexport const LoadingBlock = () => {\r\n    return (\r\n        <ContentLoader\r\n            speed={2}\r\n            width={155}\r\n            height={250}\r\n            viewBox=\"0 0 155 265\"\r\n            backgroundColor=\"#f3f3f3\"\r\n            foregroundColor=\"#ecebeb\">\r\n            <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n            <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n            <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n            <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n            <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n    )\r\n}\r\n\r\n","import React from 'react';\nimport styles from './Card.module.scss';\nimport ContentLoader from \"react-content-loader\";\nimport {AppContext} from \"../../App\";\nimport {LoadingBlock} from \"../LoadingBlock\";\n\nfunction Card({\n                  id,\n\n                  name,\n                  img,\n                  price,\n                  onPlus,\n                  onFavorite,\n                  favorited = false,\n                      loading = false}) {\n    const {addedItems} = React.useContext(AppContext)\n    const [isFavorite, setIsFavorite] = React.useState(favorited)\n    const obj = {id, parentId:id, name, img, price}\n    console.log(favorited)\n\n    const onClickPlus = () => {\n        onPlus(obj);\n\n    };\n\n    const addFavorite = () => {\n        onFavorite(obj)\n        setIsFavorite(!isFavorite)\n\n    }\n\n    return (\n        <div className={styles.card}>\n            {loading ? <LoadingBlock/>\n                :\n                <>\n                    {onFavorite && <div className={styles.favorite} onClick={addFavorite}>\n                        <img src={isFavorite ? 'img/heart-liked.svg' : 'img/heart-unliked.svg'} alt=\"Unliked\"/>\n                    </div>}\n                    <img width={133} height={112} src={img} alt=\"Sneakers\"/>\n                    <h5>{name}</h5>\n                    <div className=\"d-flex justify-between align-center\">\n                        <div className=\"d-flex flex-column\">\n                            <span>Цена:</span>\n                            <b>{price} руб.</b>\n                        </div>\n                        { onPlus && <img\n                            className={styles.plus}\n                            onClick={onClickPlus}\n                            src={addedItems(id) ? 'img/btn-checked.svg' : 'img/btn-plus.svg'}\n                            alt=\"Plus\"\n                        />}\n                    </div>\n                </>}\n\n        </div>\n    );\n}\n\nexport default Card;\n","import React from 'react';\r\nimport Card from \"../components/Card\";\r\n\r\n\r\n\r\nexport const Home = ({\r\n                         items,\r\n                         inputValue,\r\n                         clearInputValue,\r\n                         getInputValue,\r\n                         onAddToCart,\r\n                         loading,\r\n                         onAddToFavorite\r\n                     }) => {\r\n\r\n\r\n    const renderBlock = () => {\r\n        const filterItems = items.filter((item) => item.name.toLowerCase().includes(inputValue.toLocaleString()))\r\n        return (loading ? [...Array(10)] : filterItems).map((item, id) => (\r\n                <Card\r\n                    loading={loading}\r\n                    {...item}\r\n                    key={item + id}\r\n                    onPlus={(obj) => onAddToCart(obj)}\r\n                    onFavorite={(obj) => onAddToFavorite(obj)}\r\n                    favorited={false}\r\n                />\r\n            ))\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>{inputValue ? `Поиск по запросу: ${inputValue}` : 'Все кросовки'}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    {inputValue &&\r\n                    <img onClick={clearInputValue} className=\"cu-p clear\" src=\"img/btn-remove.svg\" alt=\"Close\"/>}\r\n                    <input placeholder=\"Поиск...\" value={inputValue} onChange={getInputValue}/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {renderBlock()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport Card from \"../components/Card\";\r\nimport {AppContext} from \"../App\";\r\n\r\n\r\n\r\nexport const Favorites = ({}) => {\r\n    const {favorites, onAddToFavorite} = React.useContext(AppContext)\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>Избранные</h1>\r\n                <div className=\"search-block d-flex\">\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {favorites && favorites.map((obj, id) =>\r\n                    <Card\r\n                        {...obj}\r\n                        key={obj+id}\r\n                        onFavorite={onAddToFavorite}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport Card from \"../components/Card\";\r\nimport axios from \"axios\";\r\nimport {AppContext} from \"../App\";\r\n\r\n\r\n\r\nexport const Orders = ({}) => {\r\n    const [orders, setOrders] = React.useState([])\r\n    const [loading, setLoading] = React.useState(true)\r\n\r\n    React.useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const {data} = await axios.get('https://60e07aaa6b689e001788caa6.mockapi.io/orders')\r\n                /*setOrders(data.map((obj) => obj.items).flat())*/\r\n                setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []))\r\n                setLoading(false)\r\n            } catch (error) {\r\n                alert('Ошибка при запросе заказов')\r\n            }\r\n          })()\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>Мои заказы</h1>\r\n                <div className=\"search-block d-flex\">\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {(loading ? [...Array(10)] : orders).map((item, id) => (\r\n                    <Card\r\n                        loading={loading}\r\n                        {...item}\r\n                        key={id}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport {AppContext} from \"../App\";\r\n\r\nexport const Info = ({title,\r\n                         description,\r\n                         img}) => {\r\n    const {setCartOpened} = React.useContext(AppContext)\r\n\r\n    return (\r\n        <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n            <img className=\"mb-20\" width=\"120px\"  src={img} alt=\"Empty\"/>\r\n            <h2>{title}</h2>\r\n            <p className=\"opacity-6\">{description}</p>\r\n            <button onClick={()=> setCartOpened(false)} className=\"greenButton\">\r\n                <img src={'img/arrow.svg'} alt=\"Arrow\"/>\r\n                Вернуться назад\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react'\nimport axios from \"axios\";\n\nimport {Info} from \"../info\";\nimport {useCart} from \"../hooks/useCart\";\n\nimport styles from './Drawer.module.scss';\n\n\nconst delay = (ms) => new Promise((resolve => setTimeout(resolve, ms)))\n\nfunction Drawer({onClose, items = [], onRemoveItem, opened}) {\n    const {getTotalPrice, setCartItems, cartItems, getTotalTax} = useCart()\n    const [isCompleted, setIsCompleted] = React.useState(false)\n    const [orderId, setOrderId] = React.useState(null)\n    const [isLoading, setIsLoading] = React.useState(false)\n\n    const onIsCompleted = async () => {\n        try {\n            setIsLoading(true)\n            const {data} = await axios.post('https://60e07aaa6b689e001788caa6.mockapi.io/orders', {\n                items: cartItems\n            })\n            setOrderId(data.id)\n            setIsCompleted(true)\n            setCartItems([])\n\n            for (let i = 0; i < cartItems.length; i++) {\n                const item = cartItems[i];\n               await axios.delete('https://60e07aaa6b689e001788caa6.mockapi.io/cart/' + item.id)\n                await delay(1000)\n            }\n        } catch (error) {\n            alert('Произошла ошибка')\n        }\n        setIsLoading(false)\n    }\n\n    return (\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\n            <div className={styles.drawer}>\n                <h2 className=\"d-flex justify-between mb-30\">\n                    Корзина <img onClick={onClose} className=\"cu-p\" src=\"img/btn-remove.svg\" alt=\"Close\"/>\n                </h2>\n                {items.length > 0 ? <>\n                        <div className=\"items flex\">\n                            {items.map((obj) => (\n                                <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\n                                    <div\n                                        style={{backgroundImage: `url(${obj.img})`}}\n                                        className=\"cartItemImg\"></div>\n\n                                    <div className=\"mr-20 flex\">\n                                        <p className=\"mb-5\">{obj.name}</p>\n                                        <b>{obj.price} руб.</b>\n                                    </div>\n                                    <img onClick={() => onRemoveItem(obj.id)} className=\"removeBtn\"\n                                         src=\"img/btn-remove.svg\"\n                                         alt=\"Remove\"/>\n                                </div>\n                            ))}\n                        </div>\n\n                        <div className=\"cartTotalBlock\">\n                            <ul>\n                                <li>\n                                    <span>Итого:</span>\n                                    <div></div>\n                                    <b>{getTotalPrice()} руб. </b>\n                                </li>\n                                <li>\n                                    <span>Налог 5%:</span>\n                                    <div></div>\n                                    <b>{getTotalTax()} руб. </b>\n                                </li>\n                            </ul>\n                            <button disabled={isLoading} onClick={onIsCompleted} className=\"greenButton\">\n                                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\"/>\n                            </button>\n                        </div>\n\n\n                    </> :\n\n                    <Info\n                        title={isCompleted ? 'Заказ оформлен!' : 'Корзина пустая'}\n                        description={isCompleted ? `Ваш заказ №${orderId} скоро будет передан курьерской доставке` : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ.'}\n                        img={isCompleted ? '/img/complete-order.jpg' : '/img/empty-cart.jpg'}/>\n\n                }\n\n            </div>\n        </div>\n    );\n}\n\nexport default Drawer;\n","import React from 'react';\nimport Header from './components/Header';\nimport axios from \"axios\";\nimport {Home} from \"./pages/Home\";\nimport {Route} from \"react-router\";\nimport {Favorites} from \"./pages/Favorites\";\nimport {Orders} from \"./pages/Orders\";\nimport Drawer from \"./components/Drawer\";\n\nexport const AppContext = React.createContext({})\n\nfunction App() {\n    const [items, setItems] = React.useState([]);\n    const [cartItems, setCartItems] = React.useState([]);\n    const [cartOpened, setCartOpened] = React.useState(false);\n    const [inputValue, setInputValue] = React.useState('')\n    const [favorites, setFavorites] = React.useState([])\n    const [loading, setLoading] = React.useState(true)\n\n    /* const getTotalPrice = () => cartItems.reduce((sum, obj) => obj.price + sum, 0)\n     const getTotalTax = () => Math.floor(getTotalPrice(cartItems) * 0.95)*/\n\n\n    React.useEffect(() => {\n\n        async function fetchData() {\n            try {\n                const [{data: favoriteResponse}] = await Promise.all([axios.get('https://60e07aaa6b689e001788caa6.mockapi.io/favorites')])\n                const cartResponse = await axios.get('https://60e07aaa6b689e001788caa6.mockapi.io/cart')\n                const {data: itemResponse} = await axios.get('https://60e07aaa6b689e001788caa6.mockapi.io/items')\n\n                setLoading(false)\n\n                setCartItems(cartResponse.data)\n                setFavorites(favoriteResponse)\n                setItems(itemResponse)\n            } catch (error) {\n                alert('Ошибка при запросе данных')\n            }\n\n\n        }\n\n        fetchData();\n\n    }, []);\n\n    const onAddToCart = async (obj) => {\n        try {\n            const findItem = cartItems.find(cartObj => Number(cartObj.parentId) === Number(obj.id))\n            if (findItem) {\n               setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n                await axios.delete(`https://60e07aaa6b689e001788caa6.mockapi.io/cart/${findItem.id}`)\n            } else {\n                setCartItems((prev) => [...prev, obj]);\n               const {data} =  await  axios.post('https://60e07aaa6b689e001788caa6.mockapi.io/cart', obj)\n                setCartItems((prev) => prev.map(item => {\n                    if(item.parentId === data.parentId) {\n                        return {\n                            ...item,\n                            id: data.id\n                        }\n                    }\n                    return item\n                }));\n            }\n        } catch (error) {\n            alert('Произошла ошибка')\n        }\n\n    };\n\n    const onAddToFavorite = async (obj) => {\n        try {\n            if (favorites.find(favObj => Number(favObj.id) === Number(obj.id))) {\n                setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n                await axios.delete(`https://60e07aaa6b689e001788caa6.mockapi.io/favorites/${obj.id}`)\n            } else {\n                const {data} = await axios.post('https://60e07aaa6b689e001788caa6.mockapi.io/favorites', obj)\n                setFavorites((prev) => [...prev, data]);\n            }\n        } catch (error) {\n            alert('Не удалось добавить в избранные')\n        }\n    };\n\n\n    const getInputValue = (e) => {\n        setInputValue(e.target.value)\n    }\n\n    const clearInputValue = () => {\n        setInputValue('')\n    }\n\n\n    const onRemoveItem = (id) => {\n       try {\n           axios.delete(`https://60e07aaa6b689e001788caa6.mockapi.io/cart/${id}`)\n           setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)))\n       } catch (error) {\n           alert('Произошла ошибка при удалении товара из корзины')\n       }\n    }\n\n    const addedItems = (id) => {\n        return cartItems.some(items => Number(items.parentId) === Number(id))\n\n    }\n\n\n    return (\n        <AppContext.Provider value={{\n            items,\n            cartItems,\n            favorites,\n            addedItems,\n            onAddToFavorite,\n            setCartOpened,\n            setCartItems,\n            onAddToCart\n        }}>\n            <div className=\"wrapper clear\">\n                <div>\n                    <Drawer onRemoveItem={onRemoveItem} items={cartItems} onClose={() => setCartOpened(false)}\n                            opened={cartOpened}/>\n                </div>\n                <Header onClickCart={() => setCartOpened(true)}/>\n                <Route path={'/'} exact>\n                    <Home\n                        items={items}\n                        inputValue={inputValue}\n                        favorites={favorites}\n                        onAddToCart={onAddToCart}\n                        getInputValue={getInputValue}\n                        clearInputValue={clearInputValue}\n                        cartItems={cartItems}\n                        loading={loading}\n                        onAddToFavorite={onAddToFavorite}\n                    />\n                </Route>\n                <Route path={'/favorites'} exact>\n                    <Favorites/>\n                </Route>\n                <Route path={'/orders'} exact>\n                    <Orders/>\n                </Route>\n            </div>\n        </AppContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom'\n\nimport './index.scss';\nimport 'macro-css';\n\n\n\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <App/>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}